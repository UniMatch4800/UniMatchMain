(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},103:function(e,t,n){},107:function(e,t,n){},109:function(e,t,n){},137:function(e,t,n){},139:function(e,t,n){},141:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(57),c=n.n(o),i=(n(71),n(2)),l=n(58),u=n(28),s=n(9),f=n(25),m=Object(l.a)({apiKey:"AIzaSyByFJk4QL_tvIFRea3vSmi4OyFiGmHrd4w",authDomain:"lyfe-14ae2.firebaseapp.com",projectId:"lyfe-14ae2",storageBucket:"lyfe-14ae2.appspot.com",messagingSenderId:"131409686663",appId:"1:131409686663:web:04c0f927cb5642e2c20822",measurementId:"G-VD3ZZ5K69D"}),h=Object(u.b)(m),p=Object(s.f)(m),d=Object(f.b)(m),v=n(0);n(73);function g(){g=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,c=Object.create(o.prototype),i=new P(r||[]);return a(c,"_invoke",{value:k(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function y(){}function b(){}function E(){}var w={};u(w,c,function(){return this});var j=Object.getPrototypeOf,x=j&&j(j(T([])));x&&x!==n&&r.call(x,c)&&(w=x);var O=E.prototype=y.prototype=Object.create(w);function N(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function L(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return o=o?o.then(a,a):a()}})}function k(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=S(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function S(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=E,a(O,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=u(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},N(L.prototype),u(L.prototype,i,function(){return this}),t.AsyncIterator=L,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new L(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},N(O),u(O,l,"Generator"),u(O,c,function(){return this}),u(O,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var y=function(){var e=Object(v.n)(),t=function(){var t=Object(i.a)(g().mark(function t(){return g().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u.g)(h);case 3:e("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error signing out: ",t.t0);case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:"account-page"},a.a.createElement("h1",{className:"account-heading"},"Profile Settings"),a.a.createElement("button",{className:"account-button feedback-button",onClick:function(){window.open("https://forms.gle/3ydfRYe1mVqn5GRJA","_blank")}},"Submit Feedback"),a.a.createElement("button",{onClick:function(){e("/screens/myaccount")},className:"account-button"},"Edit Dating Profile"),a.a.createElement("button",{onClick:function(){e("/screens/forum?showMyPosts=true")},className:"account-button"},"Your Forum Posts"),a.a.createElement("button",{onClick:function(){e("/screens/events?showMyEvents=true")},className:"account-button"},"Your Event Posts"),a.a.createElement("button",{onClick:function(){e("/screens/password-reset")},className:"account-button"},"Change Password"),a.a.createElement("button",{onClick:t,className:"account-button"},"Log Out"))},b=n(7),E=(n(45),n(13)),w=n(5),j=n(14),x=(n(76),n(19)),O=n(16);var N=function(e){var t=e.selectedFilters,n=e.setSelectedFilters,r=function(e,t){n(function(n){var r=n[e]||[];return r.includes(t)?Object(j.a)({},n,Object(w.a)({},e,r.filter(function(e){return e!==t}))):Object(j.a)({},n,Object(w.a)({},e,[].concat(Object(E.a)(r),[t])))})};return a.a.createElement("div",{className:"event-side-menu"},a.a.createElement("div",{className:"filter-category"},a.a.createElement("h3",null,"Price"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",name:"price",value:"Free",onChange:function(){return r("price","Free")},checked:t.price.includes("Free")}),"Free")),a.a.createElement("li",null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",name:"price",value:"1-15",onChange:function(){return r("price","1-15")},checked:t.price.includes("1-15")}),"1-15")),a.a.createElement("li",null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",name:"price",value:"16-25",onChange:function(){return r("price","16-25")},checked:t.price.includes("16-25")}),"16-25")),a.a.createElement("li",null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",name:"price",value:"26+",onChange:function(){return r("price","26+")},checked:t.price.includes("26+")}),"26+")))),a.a.createElement("div",{className:"filter-category"},a.a.createElement("h3",null,"Location"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",name:"location",value:"on campus",onChange:function(){return r("location","on campus")},checked:t.location.includes("on campus")}),"On Campus")),a.a.createElement("li",null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",name:"location",value:"off campus",onChange:function(){return r("location","off campus")},checked:t.location.includes("off campus")}),"Off Campus")))),a.a.createElement("div",{className:"filter-category"},a.a.createElement("h3",null,"Event Type"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",name:"eventType",value:"party",onChange:function(){return r("eventType","party")},checked:t.eventType.includes("party")}),"Party")),a.a.createElement("li",null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",name:"eventType",value:"clubs",onChange:function(){return r("eventType","clubs")},checked:t.eventType.includes("clubs")}),"Clubs")),a.a.createElement("li",null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",name:"eventType",value:"school",onChange:function(){return r("eventType","school")},checked:t.eventType.includes("school")}),"School")),a.a.createElement("li",null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",name:"eventType",value:"other",onChange:function(){return r("eventType","other")},checked:t.eventType.includes("other")}),"Other")))),a.a.createElement("button",{onClick:function(){n({price:[],location:[],eventType:[]})}},a.a.createElement(x.a,{icon:O.w})," Reset Filters"))};n(80);var L=function(e){var t=e.event,n=e.onClick,r=e.isSelected?"event-card selected":"event-card";return a.a.createElement("div",{className:"event-card-container"},a.a.createElement("div",{className:r,onClick:n},a.a.createElement("div",{className:"event-thumbnail"},a.a.createElement("img",{src:t.thumbnail,alt:t.title})),a.a.createElement("div",{className:"event-card-details"},a.a.createElement("h2",{className:"event-title"},t.title),a.a.createElement("p",{className:"event-location"},t.location),a.a.createElement("p",{className:"event-price"},t.price),a.a.createElement("p",{className:"event-time"},t.time))))},k=(n(82),n(39)),S=n(21);var C=function(e){var t=e.event,n=e.onClose,o=Object(r.useState)(!1),c=Object(b.a)(o,2),i=c[0],l=c[1],u=Object(r.useState)(0),s=Object(b.a)(u,2),f=s[0],m=s[1],h=window.innerWidth<=768;Object(r.useEffect)(function(){m(0)},[t]);var p=t&&t.images?t.images.map(function(e,t){return{original:e,thumbnail:e,originalWidth:200,originalHeight:200}}):[];return t?a.a.createElement("div",{className:"event-details-container"},h&&a.a.createElement("div",{className:"back-btn-and-title"},a.a.createElement("div",{className:"back-button-events",onClick:n},a.a.createElement(S.f,null)),a.a.createElement("h2",{className:"event-title"},t.title)),a.a.createElement("div",{className:"carousel-container"},a.a.createElement(k.Carousel,{selectedItem:f,onChange:function(e){return m(e)},showArrows:!0,showStatus:!0,showThumbs:!0},p.map(function(e,n){return a.a.createElement("div",{key:n,className:"carousel-image",onClick:function(){l(!0)}},a.a.createElement("img",{src:e.original,alt:t.title,className:"carousel-image"}))}))),a.a.createElement("div",{className:"data-box"},!h&&a.a.createElement("h2",{className:"event-title"},t.title),a.a.createElement("p",{className:"eventDate"},"Date: ",t.date?new Date(t.date).toLocaleDateString():""),a.a.createElement("p",{className:"eventPrice"},"Price: $",t.price),a.a.createElement("p",{className:"eventLocation"},"Location: ",t.location),a.a.createElement("p",{className:"eventDescription"},"Description: ",t.description)),i&&a.a.createElement("div",{className:"image-overlay",onClick:function(){l(!1)}},f<p.length?a.a.createElement("img",{src:p[f].original,alt:t.title}):null)):null},_=(n(91),n(20));var P=function(e){var t=e.onCreateEventClick,n=(e.onMyEventsClick,e.onSideMenuClick);return a.a.createElement("div",{className:"secondary-header-events"},a.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),a.a.createElement("div",{className:"filter-icon",onClick:n},a.a.createElement(S.c,null)),a.a.createElement("div",{className:"search-bar"},a.a.createElement("h2",{className:"page-title"},"Events")),a.a.createElement(_.b,{to:"#",className:"create-event-button",onClick:t},a.a.createElement(S.b,null)))};n(93);function T(){T=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),i=new _(r||[]);return a(c,"_invoke",{value:L(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function b(){}var E={};u(E,c,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,c)&&(E=j);var x=b.prototype=g.prototype=Object.create(E);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=k(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(N.prototype),u(N.prototype,i,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},O(x),u(x,l,"Generator"),u(x,c,function(){return this}),u(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function G(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(){var e=Object(i.a)(T().mark(function e(t,n){var r,a,o,c,i,l,u,m,v,g,y;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=h.currentUser){e.next=4;break}throw new Error("User not authenticated");case 4:a=r.uid,o=r.email,c=Object(s.b)(p,"forumPosts"),i=[],l=G(n.images),e.prev=8,l.s();case 10:if((u=l.n()).done){e.next=21;break}return m=u.value,v=Object(f.c)(d,"forumImages/".concat(t,"/").concat(m.name)),e.next=15,Object(f.d)(v,m);case 15:return e.next=17,Object(f.a)(v);case 17:g=e.sent,i.push(g);case 19:e.next=10;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(8),l.e(e.t0);case 26:return e.prev=26,l.f(),e.finish(26);case 29:return e.next=31,Object(s.a)(c,{userId:a,userEmailDomain:o.split("@")[1],forumTitle:n.forumTitle,description:n.description,images:i,tags:n.tags,createdAt:Object(s.l)(),commentsCount:0});case 31:return y=e.sent,e.abrupt("return",y.id);case 35:throw e.prev=35,e.t1=e.catch(0),e.t1;case 38:case"end":return e.stop()}},e,null,[[0,35],[8,23,26,29]])}));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(T().mark(function e(t){var n,r,a,o,c,i,l,u,m,v,g,y;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=Object(s.b)(p,"events"),r=h.currentUser){e.next=5;break}throw new Error("User not authenticated");case 5:return a=r.email,o=Object(f.c)(d,"eventImages/".concat(t.thumbnail.name)),e.next=9,Object(f.d)(o,t.thumbnail);case 9:return e.next=11,Object(f.a)(o);case 11:c=e.sent,i=[],l=G(t.images),e.prev=14,l.s();case 16:if((u=l.n()).done){e.next=27;break}return m=u.value,v=Object(f.c)(d,"eventImages/".concat(m.name)),e.next=21,Object(f.d)(v,m);case 21:return e.next=23,Object(f.a)(v);case 23:g=e.sent,i.push(g);case 25:e.next=16;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(14),l.e(e.t0);case 32:return e.prev=32,l.f(),e.finish(32);case 35:return e.next=37,Object(s.a)(n,{title:t.title,description:t.description,date:t.date,time:t.time,location:t.location,price:t.price,thumbnail:c,images:i,createdAt:Object(s.l)(),uid:t.uid,userEmailDomain:a.split("@")[1],type:t.type});case 37:return y=e.sent,e.abrupt("return",y.id);case 41:throw e.prev=41,e.t1=e.catch(0),e.t1;case 44:case"end":return e.stop()}},e,null,[[0,41],[14,29,32,35]])}));return function(t){return e.apply(this,arguments)}}();function U(){U=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),i=new _(r||[]);return a(c,"_invoke",{value:L(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function b(){}var E={};u(E,c,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,c)&&(E=j);var x=b.prototype=g.prototype=Object.create(E);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=k(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(N.prototype),u(N.prototype,i,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},O(x),u(x,l,"Generator"),u(x,c,function(){return this}),u(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var Y=function(e){var t=e.onCancel,n=Object(r.useState)({title:"",description:"",date:"",time:"",location:"",price:"",type:""}),o=Object(b.a)(n,2),c=o[0],l=o[1],u=Object(r.useState)(null),s=Object(b.a)(u,2),f=s[0],m=s[1],p=Object(r.useState)([]),d=Object(b.a)(p,2),g=d[0],y=d[1],E=Object(v.n)(),x=Object(r.useState)(!1),O=Object(b.a)(x,2),N=O[0],L=O[1],k=function(e){var t=e.target,n=t.name,r=t.value;l(Object(j.a)({},c,Object(w.a)({},n,r)))},C=function(e){if("thumbnail"===e.target.name){var t=e.target.files[0];m(t)}else if("images"===e.target.name){var n=Array.from(e.target.files);y(n)}},_=function(){var e=Object(i.a)(U().mark(function e(t){var n;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=h.currentUser?h.currentUser.uid:null,e.prev=2,c.title&&c.description&&c.date&&c.time&&c.location&&c.price&&g[0]){e.next=6;break}return console.error("All fields except images are required, and a thumbnail image is required."),e.abrupt("return");case 6:return e.next=8,A({title:c.title,description:c.description,date:c.date,time:c.time,location:c.location,price:c.price,thumbnail:f,images:g,type:c.type,uid:n});case 8:l({title:"",description:"",date:"",time:"",location:"",price:""}),y([]),L(!0),setTimeout(function(){P()},3e3),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Error adding event: ",e.t0);case 17:case"end":return e.stop()}},e,null,[[2,14]])}));return function(t){return e.apply(this,arguments)}}(),P=function(){t?t():E("/screens/events")};return a.a.createElement("div",{className:"create-event-container"},a.a.createElement("div",{className:"btn-title"},a.a.createElement("button",{onClick:P,className:"back-button"},a.a.createElement(S.f,null)),a.a.createElement("h2",null,"New Event")),a.a.createElement("div",{className:"create-event-content"},a.a.createElement("form",{onSubmit:_,className:"event-form"},a.a.createElement("div",{className:"input-group"},a.a.createElement("label",{className:"events-label"},"Title:"),a.a.createElement("input",{type:"text",name:"title",value:c.title,onChange:k,className:"input-field",required:!0})),a.a.createElement("div",{className:"input-group"},a.a.createElement("label",{className:"events-label"},"Description:"),a.a.createElement("textarea",{name:"description",value:c.description,onChange:k,className:"input-field",required:!0})),a.a.createElement("div",{className:"input-group"},a.a.createElement("label",{className:"events-label"},"Date:"),a.a.createElement("input",{type:"date",name:"date",value:c.date,onChange:k,className:"input-field",required:!0})),a.a.createElement("div",{className:"input-group"},a.a.createElement("label",{className:"events-label"},"Time:"),a.a.createElement("input",{type:"time",name:"time",value:c.time,onChange:k,className:"input-field",required:!0})),a.a.createElement("div",{className:"input-group"},a.a.createElement("label",{className:"events-label"},"Price:"),a.a.createElement("input",{type:"number",name:"price",value:c.price,onChange:k,className:"input-field",required:!0,min:"0"})),a.a.createElement("div",{className:"input-group"},a.a.createElement("label",{className:"events-label"},"Location:"),a.a.createElement("select",{name:"location",value:c.location,onChange:k,className:"input-field dropdown",required:!0},a.a.createElement("option",{value:""},"Select a location"),a.a.createElement("option",{value:"on campus"},"On Campus"),a.a.createElement("option",{value:"off campus"},"Off Campus"))),a.a.createElement("div",{className:"input-group"},a.a.createElement("label",{className:"events-label"},"Type:"),a.a.createElement("select",{name:"type",value:c.type,onChange:k,className:"input-field dropdown",required:!0},a.a.createElement("option",{value:""},"Select an event type"),a.a.createElement("option",{value:"party"},"Party"),a.a.createElement("option",{value:"clubs"},"Clubs"),a.a.createElement("option",{value:"school"},"School"),a.a.createElement("option",{value:"other"},"Other"))),a.a.createElement("div",{className:"input-group"},a.a.createElement("label",{className:"events-label"},"Thumbnail Image:"),a.a.createElement("input",{type:"file",name:"thumbnail",onChange:C,className:"input-field",required:!0})),a.a.createElement("div",{className:"input-group"},a.a.createElement("label",{className:"events-label"},"Images:"),a.a.createElement("input",{type:"file",name:"images",multiple:!0,onChange:C,className:"input-field"})),a.a.createElement("button",{type:"submit",className:"submit-button"},"Create Event")),N&&a.a.createElement("div",{className:"success-notification"},"Event created successfully. Redirecting...")))};var D=function(e){var t=e.userId,n=e.onEventClick,o=Object(r.useState)([]),c=Object(b.a)(o,2),i=c[0],l=c[1],u=Object(r.useState)([]),f=Object(b.a)(u,2),m=f[0],h=f[1];return Object(r.useEffect)(function(){!function(){var e=Object(s.b)(p,"events"),n=Object(s.k)(e,Object(s.o)("uid","==",t));Object(s.i)(n,function(e){var t=[],n=[],r=new Date;e.forEach(function(e){var a=e.data(),o=new Date(a.date+" "+a.time);o>r?t.push({id:e.id,title:a.title,date:o,location:a.location,thumbnail:a.thumbnail,price:a.price,time:a.time,description:a.description,images:a.images}):n.push({id:e.id,title:a.title,date:o,location:a.location,thumbnail:a.thumbnail,price:a.price,time:a.time,description:a.description,images:a.images})}),t.sort(function(e,t){return e.date-t.date}),n.sort(function(e,t){return e.date-t.date}),l(t),h(n)})}()},[t]),a.a.createElement("div",{className:"events-feed"},a.a.createElement("h2",{className:"no-events-header"},"Your Upcoming Events"),0===i.length?a.a.createElement("div",{className:"no-events-message"},"You have no upcoming events."):i.map(function(e){return a.a.createElement(L,{key:e.id,event:e,onClick:function(){return n(e)}})}),a.a.createElement("h2",{className:"no-events-header"},"Expired Events"),0===m.length?a.a.createElement("div",{className:"no-events-message"},"You have no expired events."):m.map(function(e){return a.a.createElement("div",{className:"expired-event-card",key:e.id},a.a.createElement(L,{event:e,onClick:function(){return n(e)}}))}),a.a.createElement("div",{className:"no-more"},a.a.createElement("h2",null,"No More Events"),a.a.createElement("p",null,"Create More Today")))};function M(){M=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),i=new _(r||[]);return a(c,"_invoke",{value:L(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function b(){}var E={};u(E,c,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,c)&&(E=j);var x=b.prototype=g.prototype=Object.create(E);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=k(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(N.prototype),u(N.prototype,i,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},O(x),u(x,l,"Generator"),u(x,c,function(){return this}),u(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var q=function(){var e=Object(v.n)(),t=Object(r.useState)([]),n=Object(b.a)(t,2),o=n[0],c=n[1],l=Object(r.useState)(null),u=Object(b.a)(l,2),f=u[0],m=u[1],d=Object(r.useState)(!1),g=Object(b.a)(d,2),y=g[0],E=g[1],w=Object(r.useState)({price:[],location:[],eventType:[]}),j=Object(b.a)(w,2),x=j[0],O=j[1],k=Object(r.useState)(!1),S=Object(b.a)(k,2),_=S[0],T=S[1],G=Object(r.useState)(null),F=Object(b.a)(G,2),I=F[0],A=F[1],U=window.innerWidth<=768,q=Object(r.useState)(!1),B=Object(b.a)(q,2),R=B[0],V=B[1],H=function(e,t){var n=parseInt(e,10);if(isNaN(n))return!1;switch(t){case"Free":return 0===n;case"1-15":return n>=1&&n<=15;case"16-25":return n>=16&&n<=25;case"26+":return n>=26;default:return!0}},z=_?[]:o.filter(function(e){return(0===x.price.length||x.price.some(function(t){return H(e.price,t)}))&&(0===x.location.length||x.location.includes(e.location))&&(0===x.eventType.length||x.eventType.includes(e.type))});Object(r.useEffect)(function(){!function(){var e=Object(i.a)(M().mark(function e(){var t,n,r,a,o,i,l,u;return M().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=h.currentUser){e.next=4;break}return e.abrupt("return");case 4:return n=t.email.split("@")[1],console.log(n),r=Object(s.k)(Object(s.b)(p,"events"),Object(s.o)("userEmailDomain","==",n),Object(s.j)("date"),Object(s.j)("time")),e.next=9,Object(s.e)(r);case 9:a=e.sent,o=[],i=new Date,a.forEach(function(e){var t=e.data(),n=new Date(t.date+" "+t.time);n>i&&H(t.price,x.price)&&o.push({id:e.id,title:t.title,date:n,price:t.price,location:t.location,thumbnail:t.thumbnail,description:t.description,images:t.images,time:t.time,type:t.type})}),c(o),!U&&o.length>0&&m(o[0]),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error fetching events: ",e.t0);case 20:l=new URLSearchParams(window.location.search),u=l.get("showMyEvents"),T("true"===u);case 24:case"end":return e.stop()}},e,null,[[0,17]])}));return function(){return e.apply(this,arguments)}}()()},[h.currentUser]);var W=function(e){console.log("Event Clicked:",e),m(e),E(!1)},J=function(){m(null)};return Object(r.useEffect)(function(){var e=h.onAuthStateChanged(function(e){e?(A(e.uid),console.log("Logged-in user ID:",e.uid)):console.log("No user is logged in.")});return function(){return e()}},[]),a.a.createElement("div",null,a.a.createElement(P,{onCreateEventClick:function(){E(!y)},onMyEventsClick:function(){T(!_);var t="/screens/events?showMyEvents=".concat(!_);e(t)},onSideMenuClick:function(){V(!R)}}),a.a.createElement("div",{className:"events-page"},U?a.a.createElement(a.a.Fragment,null,y?a.a.createElement(Y,{onCancel:function(){return E(!1)}}):a.a.createElement(a.a.Fragment,null,R&&a.a.createElement("div",{className:"side-menu-container"},a.a.createElement(N,{selectedFilters:x,setSelectedFilters:O})),a.a.createElement("div",{className:"events-container"},f?a.a.createElement(C,{event:f,onClose:J}):a.a.createElement(a.a.Fragment,null,_?a.a.createElement(D,{userId:I,onEventClick:W}):a.a.createElement("div",{className:"event-list"},z.map(function(e){return a.a.createElement(L,{key:e.id,event:e,onClick:function(){return W(e)},isSelected:f&&f.id===e.id})})))))):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"side-menu-container"},a.a.createElement(N,{selectedFilters:x,setSelectedFilters:O})),a.a.createElement("div",{className:"events-container"},_?a.a.createElement(D,{userId:I,onEventClick:W}):a.a.createElement("div",{className:"event-list"},z.map(function(e){return a.a.createElement(L,{key:e.id,event:e,onClick:function(){return W(e)},isSelected:f&&f.id===e.id})}))),a.a.createElement("div",{className:"create-event-details-container"},y?a.a.createElement(Y,{onCancel:function(){return E(!1)}}):a.a.createElement(C,{event:f,onClose:J})))))},B=n(18),R=n.n(B),V=n(31),H=n.n(V);function z(){z=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),i=new _(r||[]);return a(c,"_invoke",{value:L(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function b(){}var E={};u(E,c,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,c)&&(E=j);var x=b.prototype=g.prototype=Object.create(E);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=k(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(N.prototype),u(N.prototype,i,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},O(x),u(x,l,"Generator"),u(x,c,function(){return this}),u(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var W=function(e){var t=e.isItLogin,n=Object(r.useState)(t),o=Object(b.a)(n,2),c=o[0],l=o[1],f=Object(r.useState)(""),m=Object(b.a)(f,2),d=m[0],g=m[1],y=Object(r.useState)(""),E=Object(b.a)(y,2),w=E[0],j=E[1],x=Object(r.useState)(""),O=Object(b.a)(x,2),N=O[0],L=O[1],k=Object(r.useState)(!1),S=Object(b.a)(k,2),C=S[0],_=S[1],P=Object(r.useState)(!1),T=Object(b.a)(P,2),G=T[0],F=T[1],I=Object(r.useState)(""),A=Object(b.a)(I,2),U=A[0],Y=A[1],D=Object(r.useState)(null),M=Object(b.a)(D,2),q=M[0],B=M[1],V=Object(r.useState)(!1),W=Object(b.a)(V,2),J=W[0],Q=W[1],K=Object(r.useState)(""),X=Object(b.a)(K,2),Z=X[0],$=X[1],ee=Object(v.n)();Object(r.useEffect)(function(){var e=Object(u.c)(h,function(){var e=Object(i.a)(z().mark(function e(t){var n;return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.emailVerified){e.next=5;break}return e.next=3,te(t.uid);case 3:(n=e.sent)&&Object.keys(n).length>0?ee("/screens/forum"):ee("/screens/additional-info");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());return function(){return e()}},[ee]);var te=function(){var e=Object(i.a)(z().mark(function e(t){var n,r,a;return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(s.c)(p,"users",t),console.log("Fetching data for path: users/".concat(t)),e.next=5,Object(s.d)(n);case 5:if(r=e.sent,console.log(r.data()),!r.exists()){e.next=14;break}return console.log("Manually fetched data:",r.data()),a=r.data(),console.log("User data fetched:",a),e.abrupt("return",a);case 14:console.error("Manual fetch failed.");case 15:return console.log("No additional info found for user:",t),e.abrupt("return",null);case 19:return e.prev=19,e.t0=e.catch(0),console.error("Error fetching user data: ",e.t0),e.abrupt("return",null);case 23:case"end":return e.stop()}},e,null,[[0,19]])}));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(i.a)(z().mark(function e(t){var n;return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Q(!1),B(null),d&&w&&(c||N)){e.next=7;break}return _(!0),B("Please fill in all the required fields."),e.abrupt("return");case 7:if(d.endsWith(".edu")){e.next=11;break}return _(!0),B("Please use a student email"),e.abrupt("return");case 11:if(c||w===N){e.next=15;break}return _(!0),B("Passwords entered do not match!"),e.abrupt("return");case 15:if(e.prev=15,!c){e.next=23;break}return e.next=19,Object(u.f)(h,d,w);case 19:Q(!0),$("Login successful!"),e.next=30;break;case 23:return e.next=25,Object(u.a)(h,d,w);case 25:return n=e.sent,e.next=28,Object(u.d)(n.user);case 28:Q(!0),$("Verification email sent. Please check your inbox.");case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(15),console.error("Authentication error:",e.t0.message),"auth/email-already-in-use"===e.t0.code?B("Email is already in use. Please use a different email address."):"auth/weak-password"===e.t0.code?B("Password should be at least 6 characters."):B("Invalid credentials or user does not exist");case 36:case"end":return e.stop()}},e,null,[[15,32]])}));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(i.a)(z().mark(function e(){return z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,U){e.next=4;break}return B("Please provide a valid email address."),e.abrupt("return");case 4:return e.next=6,Object(u.e)(h,U);case 6:Q(!0),$("Password reset email sent. Please check your inbox."),F(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),"auth/invalid-email"===e.t0.code?B("Invalid email address. Please provide a valid one."):(console.error("Forgot password error:",e.t0),B("An error occurred. Please try again."));case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:R.a.container},a.a.createElement("div",{className:R.a["auth-container"]},a.a.createElement("img",{src:H.a,alt:"ULyfe Logo",className:R.a["auth-logo"]}),G?a.a.createElement(a.a.Fragment,null,q&&a.a.createElement("p",{className:"error-message"},q),J&&a.a.createElement("p",{className:"success-message"},Z),a.a.createElement("form",null,a.a.createElement("div",null,a.a.createElement("label",{className:"auth-label"},"Student email:"),a.a.createElement("input",{type:"email",value:U,onChange:function(e){return Y(e.target.value)},className:"".concat(R.a.inputBox," ").concat(C&&!U?R.a.error:"")})),a.a.createElement("button",{className:R.a.login,onClick:re},"Get Password Reset Email"),a.a.createElement("button",{className:R.a.login,onClick:function(){return F(!1)}},"Back to Login"))):a.a.createElement(a.a.Fragment,null,q&&a.a.createElement("p",{className:"error-message"},q),J&&a.a.createElement("p",{className:"success-message"},Z),a.a.createElement("form",{onSubmit:ne},a.a.createElement("div",null,a.a.createElement("label",{className:"auth-label"},"Student email:"),a.a.createElement("input",{type:"email",value:d,onChange:function(e){return g(e.target.value)},className:"".concat(R.a.inputBox," ").concat(C&&!d?R.a.error:"")})),a.a.createElement("div",null,a.a.createElement("label",{className:"auth-label"},"Password:"),a.a.createElement("input",{type:"password",value:w,onChange:function(e){return j(e.target.value)},className:"".concat(R.a.inputBox," ").concat(C&&!w?R.a.error:"")})),c&&a.a.createElement("label",{className:"auth-label forgot",onClick:function(){F(!0)}},"Forgot Password?"),!c&&a.a.createElement("div",null,a.a.createElement("label",{className:"auth-label"},"Confirm Password:"),a.a.createElement("input",{type:"password",value:N,onChange:function(e){return L(e.target.value)},className:"".concat(R.a.inputBox," ").concat(C&&!N?R.a.error:"")})),a.a.createElement("button",{className:R.a.login,onClick:ne},c?"Login":"Signup"),a.a.createElement("button",{className:R.a.login,onClick:function(){return l(!c)}},"Switch to ",c?"Signup":"Login")))))};n(96);var J=function(e){var t=e.setSelectedTag,n=e.selectedTag,o=e.closePosts,c=e.closeSideMenu,i=(e.onMyPostsClick,Object(r.useState)([{name:"General",icon:O.l,tags:[{name:"Professors",tag:"professors"},{name:"Classes",tag:"classes"},{name:"Majors",tag:"majors"},{name:"Clubs",tag:"clubs"},{name:"Restaurants",tag:"restaurants"},{name:"Frats/Sororities",tag:"frats-sororities"}]},{name:"Academics",icon:O.a,tags:[{name:"Study Tips",tag:"study-tips"},{name:"Internships",tag:"internships"},{name:"Academic Challenges",tag:"academic-challenges"}]},{name:"Campus Life",icon:O.x,tags:[{name:"Campus Events",tag:"campus-events"},{name:"Roommate Issues",tag:"roommate-issues"},{name:"Dorm Life",tag:"dorm-life"},{name:"Student Organizations",tag:"student-organizations"},{name:"Sports and Athletics",tag:"sports-athletics"},{name:"Campus Safety",tag:"campus-safety"}]},{name:"Wellness",icon:O.m,tags:[{name:"Mental Health",tag:"mental-health"},{name:"Fitness and Health",tag:"fitness-health"}]},{name:"Finance",icon:O.k,tags:[{name:"Part-Time Jobs",tag:"part-time-jobs"},{name:"Student Loans",tag:"student-loans"},{name:"Student Discounts",tag:"student-discounts"},{name:"Student Budgeting",tag:"student-budgeting"}]},{name:"Student Life",icon:O.b,tags:[{name:"International Students",tag:"international-students"},{name:"Student Housing",tag:"student-housing"}]},{name:"Experiences",icon:O.c,tags:[{name:"Travel and Adventure",tag:"travel-adventure"},{name:"Alumni Stories",tag:"alumni-stories"}]},{name:"Creativity",icon:O.q,tags:[{name:"Art and Creativity",tag:"art-creativity"},{name:"LGBTQ+ Support",tag:"lgbtq-support"}]},{name:"Tech & Gadgets",icon:O.n,tags:[{name:"Technology and Gadgets",tag:"technology-gadgets"}]}])),l=Object(b.a)(i,1)[0],u=Object(r.useState)(null),s=Object(b.a)(u,2),f=s[0],m=s[1],h=Object(v.n)(),p=function(e){t(e),o(),c();var n="/screens/forum?selectedTag=".concat(e);h(n)};return Object(r.useEffect)(function(){var e=new URLSearchParams(window.location.search).get("selectedTag");t(e)},[h,t]),a.a.createElement("div",{className:"side-menu-box"},a.a.createElement("div",{className:"home",onClick:function(){return p(null)}},"Home"),l.map(function(e,t){return a.a.createElement("div",{key:t},a.a.createElement("div",{className:"category-header"},a.a.createElement("div",{className:"category ".concat(e.name===f?"active":""),onClick:function(){return t=e.name,void m(f===t?null:t);var t}},a.a.createElement("div",{className:"category-content"},a.a.createElement("div",{className:"icon-title"},a.a.createElement(x.a,{icon:e.icon,className:"category-icon"}),a.a.createElement("div",{className:"category-title"},e.name)),a.a.createElement("div",{className:"category-caret-icon"},e.name===f?a.a.createElement(x.a,{icon:O.e}):a.a.createElement(x.a,{icon:O.f}))))),e.name===f&&a.a.createElement("div",{className:"tags-container"},e.tags.map(function(e,t){return a.a.createElement("div",{key:t,className:"sub-tag ".concat(e.tag===n?"active":""),onClick:function(){return p(e.tag)}},e.name)})))}))};n(98),n(100);var Q=function(e){var t=e.onCreatePostClick,n=e.onToggleSideMenu,r=e.isSideMenuVisible;return a.a.createElement("div",{className:"secondary-header"},a.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),a.a.createElement("div",{className:"mobile-menu-icon filter-icon",onClick:function(){n(!r)}},a.a.createElement(S.c,null)),a.a.createElement("div",{className:"search-bar"},a.a.createElement("h2",{className:"page-title"},"Forum")),a.a.createElement(_.b,{to:"#",className:"create-post-button",onClick:t},a.a.createElement(S.e,null))," ")};n(51),n(103);function K(){K=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),i=new _(r||[]);return a(c,"_invoke",{value:L(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function b(){}var E={};u(E,c,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,c)&&(E=j);var x=b.prototype=g.prototype=Object.create(E);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=k(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(N.prototype),u(N.prototype,i,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},O(x),u(x,l,"Generator"),u(x,c,function(){return this}),u(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function X(e){var t=e.commentData,n=e.allComments,o=e.depth,c=e.addReply,i=e.voteComment,l=Object(r.useState)(null),u=Object(b.a)(l,2),s=u[0],f=u[1];Object(r.useEffect)(function(){var e=h.currentUser?h.currentUser.uid:null;f(e)},[]);var m=t.userVotes&&t.userVotes[s],p=n.filter(function(e){return e.parentId===t.id});return a.a.createElement("div",{className:"comment comment-depth-".concat(o)},a.a.createElement("div",null,t.text,a.a.createElement("button",{className:"vote-button upvote",onClick:function(){return i(t.id,1)},disabled:1===m},"\u2191"),a.a.createElement("span",{className:"vote-count"},t.userVotes?Object.values(t.userVotes).reduce(function(e,t){return e+t},0):0),a.a.createElement("button",{className:"vote-button downvote",onClick:function(){return i(t.id,-1)},disabled:-1===m},"\u2193"),a.a.createElement("button",{className:"reply-button",onClick:function(){return c(t.id)}},"Reply")),p.map(function(e){return a.a.createElement(X,{commentData:e,allComments:n,depth:o+1,addReply:c,voteComment:i,key:e.id})}))}var Z=function(e){var t=e.postId,n=Object(r.useState)([]),o=Object(b.a)(n,2),c=o[0],l=o[1],u=Object(r.useState)(""),f=Object(b.a)(u,2),m=f[0],d=f[1],v=Object(r.useState)(null),g=Object(b.a)(v,2),y=g[0],E=g[1];Object(r.useEffect)(function(){!function(){var e=Object(s.b)(p,"forumPosts",t,"comments"),n=Object(s.k)(e,Object(s.j)("createdAt"));Object(s.i)(n,function(e){var t=[];e.forEach(function(e){t.push(Object(j.a)({id:e.id},e.data()))}),l(t)})}()},[]);var w=function(){var e=Object(i.a)(K().mark(function e(n){var r,a,o=arguments;return K().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:null,e.prev=1,a=h.currentUser?h.currentUser.uid:null){e.next=6;break}return console.error("User is not logged in."),e.abrupt("return");case 6:return e.next=8,Object(s.a)(Object(s.b)(p,"forumPosts",t,"comments"),{userId:a,text:n,parentId:r,userVotes:{},votes:0,createdAt:Object(s.l)()});case 8:E(null),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Error adding comment: ",e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(K().mark(function e(n,r){var a,o,c,i,l,u;return K().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=h.currentUser?h.currentUser.uid:null){e.next=5;break}return console.error("User is not logged in."),e.abrupt("return");case 5:return o=Object(s.c)(p,"forumPosts",t,"comments",n),e.next=8,Object(s.d)(o);case 8:if(c=e.sent,!(i=c.data()).userVotes||i.userVotes[a]!==r){e.next=13;break}return console.log("You've already voted in this direction."),e.abrupt("return");case 13:return l={},u=r,i.userVotes&&i.userVotes[a]===-r&&(u=2*r),l["userVotes.".concat(a)]=r,e.next=19,Object(s.n)(o,Object(j.a)({},l,{votes:Object(s.g)(u)}));case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.error("Error updating comment vote: ",e.t0);case 24:case"end":return e.stop()}},e,null,[[0,21]])}));return function(t,n){return e.apply(this,arguments)}}(),O=function(e){E(e)};return a.a.createElement("div",{className:"comments-section"},a.a.createElement("div",{className:"comments-list"},c.filter(function(e){return!e.parentId}).map(function(e){return a.a.createElement("div",{key:e.id},a.a.createElement(X,{commentData:e,allComments:c,depth:0,addReply:O,voteComment:x}))})),a.a.createElement("div",{className:"comment-input"},y&&a.a.createElement("div",{className:"replying-indicator"},"Replying to a comment..."),a.a.createElement("input",{type:"text",placeholder:"Add a comment...",value:m,onChange:function(e){return d(e.target.value)}}),a.a.createElement("button",{className:"send-button",onClick:function(){""!==m.trim()&&(w(m,y),d(""))}},"Send"),y&&a.a.createElement("button",{className:"cancel-reply-button",onClick:function(){return E(null)}},"Cancel Reply")))};n(105);function $(){$=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),i=new _(r||[]);return a(c,"_invoke",{value:L(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function b(){}var E={};u(E,c,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,c)&&(E=j);var x=b.prototype=g.prototype=Object.create(E);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=k(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(N.prototype),u(N.prototype,i,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},O(x),u(x,l,"Generator"),u(x,c,function(){return this}),u(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var ee=function(e){var t=e.selectedTag,n=Object(r.useState)([]),o=Object(b.a)(n,2),c=o[0],l=o[1],u=Object(r.useState)(null),f=Object(b.a)(u,2),m=f[0],d=f[1],g=Object(v.l)(),y=Object(r.useState)(""),N=Object(b.a)(y,2),L=N[0],S=N[1];Object(r.useEffect)(function(){var e=new URLSearchParams(g.search).get("selectedTag");S(e),document.querySelector(".forum-feed").scrollTo(0,0)},[g.search]),t=L,Object(r.useEffect)(function(){!function(){var e=Object(i.a)($().mark(function e(){var n,r,a,o,c;return $().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(s.b)(p,"forumPosts"),r=h.currentUser){e.next=4;break}return e.abrupt("return");case 4:return a=r.email.split("@")[1],o="null"!==t&&t?Object(s.k)(n,Object(s.o)("tags","array-contains",t),Object(s.o)("userEmailDomain","==",a),Object(s.j)("createdAt","desc")):Object(s.k)(n,Object(s.o)("userEmailDomain","==",a),Object(s.j)("createdAt","desc")),c=Object(s.i)(o,function(e){var t=[];e.forEach(function(e){var n=e.data(),r=n.createdAt,a=r?r.toDate():null;t.push({id:e.id,title:n.forumTitle,content:n.description,images:n.images,votes:n.votes,createdAt:a,tags:n.tags})}),l(t)}),e.abrupt("return",function(){return c()});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[t,h.currentUser]);var C=function(){var e=Object(i.a)($().mark(function e(t,n){var r,a,o;return $().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(s.c)(p,"forumPosts",t),e.next=3,Object(s.d)(r);case 3:if(a=e.sent,!(o=a.data()).votes||!o.votes[h.currentUser.uid]){e.next=8;break}return console.log("You've already voted on this post."),e.abrupt("return");case 8:return e.next=10,Object(s.n)(r,Object(w.a)({votesCount:Object(s.g)(n)},"votes.".concat(h.currentUser.uid),n));case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),_={position:"absolute",zIndex:2,top:"calc(50% - 15px)",width:30,height:30,cursor:"pointer",fontSize:"24px",display:"flex",justifyContent:"center",alignItems:"flex-end",color:"#fff",lineHeight:"30px",border:"none",background:"none"},P={position:"absolute",top:5,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:3},T={background:"#fff",height:4,width:"100%",margin:0},G=Object(r.useState)(c.map(function(){return{currentIndex:0}})),F=Object(b.a)(G,2),I=F[0],A=F[1];return a.a.createElement("div",{className:"forum-feed"},0===c.length?a.a.createElement("div",{className:"no-posts-message"},"No posts made to ",t," yet."):c.map(function(e,t){return a.a.createElement("div",{key:e.id,className:"forum-post"},a.a.createElement("h2",{className:"post-title"},e.title),a.a.createElement("span",{className:"time-ago"},function(e){var t=(new Date-e)/1e3;if(t<60){var n=Math.round(t);return"".concat(1===n?"1 second":"".concat(n," seconds")," ago")}if(t<3600){var r=Math.round(t/60);return"".concat(1===r?"1 minute":"".concat(r," minutes")," ago")}if(t<86400){var a=Math.round(t/3600);return"".concat(1===a?"1 hour":"".concat(a," hours")," ago")}var o=Math.round(t/86400);return"".concat(1===o?"1 day":"".concat(o," days")," ago")}(e.createdAt)),e.content&&a.a.createElement("p",{className:"post-content"},e.content),e.images&&1===e.images.length?a.a.createElement("div",{className:"images-container"},a.a.createElement("img",{src:e.images[0],alt:"Post 0",className:"post-image"})):a.a.createElement("div",{className:"images-container",style:{position:"relative"}},a.a.createElement("div",{style:Object(j.a)({},P,{top:"0",background:"none"})},e.images.map(function(e,n){var r=n===(I[t]&&void 0!==I[t].currentIndex?I[t].currentIndex:0)?"#faa805":"#fff";return a.a.createElement("div",{key:n,style:Object(j.a)({},T,{background:r})})})),a.a.createElement(k.Carousel,{showArrows:!0,showStatus:!1,showThumbs:!1,selectedItem:I[t]?I[t].currentIndex:0,onChange:function(e){return function(e,t){A(function(n){var r=Object(E.a)(n);return r[e]={currentIndex:t},r})}(t,e)},renderArrowPrev:function(e,t,n){return t&&a.a.createElement("button",{type:"button",onClick:e,title:n,style:Object(j.a)({},_,{left:15})},"\u27e8"," ")},renderArrowNext:function(e,t,n){return t&&a.a.createElement("button",{type:"button",onClick:e,title:n,style:Object(j.a)({},_,{right:15})},"\u27e9"," ")},renderIndicator:function(){return null}},e.images.map(function(e,t){return a.a.createElement("div",{key:t},a.a.createElement("img",{src:e,alt:"Post ".concat(t),className:"post-image"}))}))),a.a.createElement("div",{className:"post-actions"},a.a.createElement("button",{className:"action-button ".concat(e.votes&&1===e.votes[h.currentUser.uid]?"upvoted":""),onClick:function(){return C(e.id,1)}},a.a.createElement(x.a,{icon:O.u})),a.a.createElement("span",null,e.votes?Object.values(e.votes).reduce(function(e,t){return e+t},0):0),a.a.createElement("button",{className:"action-button ".concat(e.votes&&-1===e.votes[h.currentUser.uid]?"downvoted":""),onClick:function(){return C(e.id,-1)}},a.a.createElement(x.a,{icon:O.t})),a.a.createElement("button",{className:"action-button ".concat(e.votes&&-1===e.votes[h.currentUser.uid]?"downvoted":""),onClick:function(){return t=e.id,void d(m===t?null:t);var t}},a.a.createElement(x.a,{icon:O.i,color:"#0557fa"}))),m===e.id&&a.a.createElement(Z,{postId:m}))}))};n(107);var te=function(e){e.setSelectedTag;var t=Object(r.useState)([]),n=Object(b.a)(t,2),o=n[0],c=n[1],i=Object(r.useState)([]),l=Object(b.a)(i,2),u=l[0],f=l[1],m=Object(v.n)();return Object(r.useEffect)(function(){var e=Object(s.b)(p,"forumPosts"),t=Object(s.k)(e,Object(s.j)("votesCount","desc"),Object(s.h)(5)),n=Object(s.i)(t,function(e){var t=[];e.forEach(function(e){var n=e.data();t.push({id:e.id,title:n.forumTitle,votesCount:n.votesCount})}),c(t)}),r=new Map,a=Object(s.b)(p,"forumPosts"),o=Object(s.k)(a),i=Object(s.i)(o,function(e){e.forEach(function(e){var t=e.data().tags;t&&t.length>0&&t.forEach(function(e){r.has(e)?r.set(e,r.get(e)+1):r.set(e,1)})});var t=Object(E.a)(r.entries()).sort(function(e,t){return t[1]-e[1]});f(t.slice(0,5).map(function(e){return{tag:e[0],count:e[1]}}))});return function(){n(),i()}},[]),a.a.createElement("div",{className:"right-side-section-box"},a.a.createElement("div",{className:"trending-talks"},a.a.createElement("h2",null,"Trending Posts"),a.a.createElement("ul",null,o.map(function(e,t){return a.a.createElement("li",{key:t,className:"tag-talk-link"},a.a.createElement("strong",null,e.title.length>20?e.title.slice(0,25)+"...":e.title),a.a.createElement("strong",null,e.votesCount," ",a.a.createElement(x.a,{icon:O.m,className:"heart-icon"})))}))),a.a.createElement("div",{className:"trending-tags"},a.a.createElement("h2",null,"Trending Tags"),a.a.createElement("ul",null,u.map(function(e,t){return a.a.createElement("li",{key:t,className:"tag-talk-link",onClick:function(){return m("/screens/forum?selectedTag=".concat(e.tag))}},a.a.createElement("strong",null,e.tag.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")),a.a.createElement("strong",null,e.count," #"))}))))},ne=(n(109),n(63));function re(){re=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),i=new _(r||[]);return a(c,"_invoke",{value:L(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function b(){}var E={};u(E,c,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,c)&&(E=j);var x=b.prototype=g.prototype=Object.create(E);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=k(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(N.prototype),u(N.prototype,i,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},O(x),u(x,l,"Generator"),u(x,c,function(){return this}),u(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var ae=function(e){var t=e.onCancel,n=Object(r.useState)({forumTitle:"",description:"",tags:[]}),o=Object(b.a)(n,2),c=o[0],l=o[1],u=Object(r.useState)(null),s=Object(b.a)(u,2),f=s[0],m=s[1],p={control:function(e,t){return Object(j.a)({},e,{backgroundColor:"#222",color:"white",border:t.isFocused?"1px solid #faa805":"1px solid white",boxShadow:"none",borderRadius:"10px"})},menu:function(e,t){return Object(j.a)({},e,{backgroundColor:"#222"})},option:function(e,t){return Object(j.a)({},e,{color:"white",backgroundColor:t.isSelected?"#faa805":"#222","&:hover":{backgroundColor:"#faa805"}})}},d=Object(r.useState)([]),g=Object(b.a)(d,2),y=g[0],E=g[1],x=Object(v.n)(),O=Object(r.useState)(!1),N=Object(b.a)(O,2),L=N[0],k=N[1],C=h.currentUser?h.currentUser.uid:null,_=[{value:"professors",label:"Professors"},{value:"classes",label:"Classes"},{value:"majors",label:"Majors"},{value:"clubs",label:"Clubs"},{value:"restaurants",label:"Restaurants"},{value:"frats-sororities",label:"Frats/Sororities"},{value:"study-tips",label:"Study Tips"},{value:"internships",label:"Internships"},{value:"academic-challenges",label:"Academic Challenges"},{value:"campus-events",label:"Campus Events"},{value:"roommate-issues",label:"Roommate Issues"},{value:"dorm-life",label:"Dorm Life"},{value:"student-organizations",label:"Student Organizations"},{value:"sports-athletics",label:"Sports and Athletics"},{value:"campus-safety",label:"Campus Safety"},{value:"mental-health",label:"Mental Health"},{value:"fitness-health",label:"Fitness and Health"},{value:"part-time-jobs",label:"Part-Time Jobs"},{value:"student-loans",label:"Student Loans"},{value:"student-discounts",label:"Student Discounts"},{value:"student-budgeting",label:"Student Budgeting"},{value:"international-students",label:"International Students"},{value:"student-housing",label:"Student Housing"},{value:"travel-adventure",label:"Travel and Adventure"},{value:"alumni-stories",label:"Alumni Stories"},{value:"art-creativity",label:"Art and Creativity"},{value:"lgbtq-support",label:"LGBTQ+ Support"},{value:"technology-gadgets",label:"Technology and Gadgets"}],P=function(e){var t=e.target,n=t.name,r=t.value;l(Object(j.a)({},c,Object(w.a)({},n,r)))},T=function(){t?t():x("/screens/forum")},G=function(){var e=Object(i.a)(re().mark(function e(t){return re().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c.tags&&0!==c.tags.length){e.next=5;break}return console.error("Tags are required."),m("At least one tag is required"),e.abrupt("return");case 5:if(C){e.next=8;break}return console.error("User not authenticated."),e.abrupt("return");case 8:if(e.prev=8,c.forumTitle&&c.description){e.next=13;break}return console.error("Forum Title and Description are required."),m("Forum Title and Description are required."),e.abrupt("return");case 13:return e.next=15,I(C,{forumTitle:c.forumTitle,description:c.description,tags:c.tags,images:y});case 15:l({forumTitle:"",description:"",tags:""}),E([]),k(!0),setTimeout(function(){T()},3e3),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),console.error("Error adding forum post: ",e.t0);case 24:case"end":return e.stop()}},e,null,[[8,21]])}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"create-post-container"},a.a.createElement("div",{className:"btn-title"},a.a.createElement("button",{onClick:T,className:"back-button"},a.a.createElement(S.f,null)),a.a.createElement("h2",null,"New Post")),a.a.createElement("form",{onSubmit:G,className:"create-post-form"},a.a.createElement("div",{className:"input-group"},a.a.createElement("label",null,"Forum Title:"),a.a.createElement("input",{type:"text",name:"forumTitle",value:c.forumTitle,onChange:P,className:"input-field",required:!0})),a.a.createElement("div",{className:"input-group description"},a.a.createElement("label",null,"Description:"),a.a.createElement("textarea",{rows:4,name:"description",value:c.description,onChange:P,className:"input-field",required:!0})),a.a.createElement("div",{className:"input-group"},a.a.createElement("label",null,"Images:"),a.a.createElement("input",{type:"file",name:"images",multiple:!0,onChange:function(e){var t=Array.from(e.target.files);E(t)},className:"input-field"})),a.a.createElement("div",{className:"input-group"},a.a.createElement("label",null,"Tags:"),a.a.createElement("div",null,a.a.createElement(ne.a,{name:"tags",value:_.filter(function(e){return c.tags.includes(e.value)}),options:_,onChange:function(e){var t=e?e.map(function(e){return e.value}):[];l(Object(j.a)({},c,{tags:t}))},isMulti:!0,className:"input-field",menuPosition:"fixed",styles:p}))),a.a.createElement("button",{type:"submit",className:"submit-button"},"Create Post")),L&&a.a.createElement("div",{className:"success-notification"},"Post created successfully. Redirecting..."),f&&a.a.createElement("div",{className:"success-notification error"},f))};function oe(){oe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),i=new _(r||[]);return a(c,"_invoke",{value:L(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function b(){}var E={};u(E,c,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,c)&&(E=j);var x=b.prototype=g.prototype=Object.create(E);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=k(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(N.prototype),u(N.prototype,i,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},O(x),u(x,l,"Generator"),u(x,c,function(){return this}),u(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var ce=function(e){var t=e.userId,n=Object(r.useState)([]),o=Object(b.a)(n,2),c=o[0],l=o[1],u=Object(r.useState)(null),f=Object(b.a)(u,2),m=f[0],d=f[1];Object(r.useEffect)(function(){!function(){var e=Object(s.b)(p,"forumPosts"),n=Object(s.k)(e,Object(s.o)("userId","==",t),Object(s.j)("createdAt","desc"));Object(s.i)(n,function(e){var t=[];e.forEach(function(e){var n=e.data();t.push({id:e.id,title:n.forumTitle,content:n.description,images:n.images,votes:n.votes,createdAt:n.createdAt.toDate(),tags:n.tags})}),l(t)})}()},[t]);var v=function(){var e=Object(i.a)(oe().mark(function e(t,n){var r,a,o;return oe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(s.c)(p,"forumPosts",t),e.next=3,Object(s.d)(r);case 3:if(a=e.sent,!(o=a.data()).votes||!o.votes[h.currentUser.uid]){e.next=8;break}return console.log("You've already voted on this post."),e.abrupt("return");case 8:return e.next=10,Object(s.n)(r,Object(w.a)({votesCount:Object(s.g)(n)},"votes.".concat(h.currentUser.uid),n));case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"forum-feed"},0===c.length?a.a.createElement("div",{className:"no-posts-message"},"You have not made any posts yet."):c.map(function(e){return a.a.createElement("div",{key:e.id,className:"forum-post"},a.a.createElement("h2",{className:"post-title"},e.title),a.a.createElement("span",{className:"time-ago"},function(e){var t=(new Date-e)/1e3;return t<3600?"".concat(Math.round(t/60)," minutes ago"):t<86400?"".concat(Math.round(t/3600)," hours ago"):"".concat(Math.round(t/86400)," days ago")}(e.createdAt)),e.content&&a.a.createElement("p",{className:"post-content"},e.content),a.a.createElement("div",{className:"images-container"},e.images&&e.images.map(function(e,t){return a.a.createElement("img",{key:t,src:e,alt:"Post ".concat(t),className:"post-image"})})),a.a.createElement("div",{className:"post-actions"},a.a.createElement("button",{className:"action-button ".concat(e.votes&&1===e.votes[h.currentUser.uid]?"upvoted":""),onClick:function(){return v(e.id,1)}},a.a.createElement(x.a,{icon:O.u})),a.a.createElement("span",null,e.votes?Object.values(e.votes).reduce(function(e,t){return e+t},0):0),a.a.createElement("button",{className:"action-button ".concat(e.votes&&-1===e.votes[h.currentUser.uid]?"downvoted":""),onClick:function(){return v(e.id,-1)}},a.a.createElement(x.a,{icon:O.t})),a.a.createElement("button",{className:"action-button ".concat(e.votes&&-1===e.votes[h.currentUser.uid]?"downvoted":""),onClick:function(){return t=e.id,void d(m===t?null:t);var t}},a.a.createElement(x.a,{icon:O.i,color:"#0557fa"}))),m===e.id&&a.a.createElement(Z,{postId:m}))}))};var ie=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(!1),i=Object(b.a)(c,2),l=i[0],u=i[1],s=Object(r.useState)(null),f=Object(b.a)(s,2),m=f[0],p=f[1],d=Object(r.useState)(null),g=Object(b.a)(d,2),y=g[0],E=g[1],w=Object(r.useState)(!1),j=Object(b.a)(w,2),x=j[0],O=j[1];Object(r.useEffect)(function(){var e=h.onAuthStateChanged(function(e){e&&E(e.uid);var t=new URLSearchParams(window.location.search).get("showMyPosts");u("true"===t)});return function(){return e()}},[]);var N=Object(v.n)(),L=function(){O(!1)};return a.a.createElement("div",{className:"forum ".concat(x?"side-menu-visible":"")},a.a.createElement(Q,{onCreatePostClick:function(){o(!n),u(!1),L()},onToggleSideMenu:function(e){O(e)},isSideMenuVisible:x}),a.a.createElement("div",{className:"forum-main-content"},a.a.createElement("div",{className:"side-menu"},a.a.createElement(J,{setSelectedTag:p,selectedTag:m,closePosts:function(){o(!1),u(!1)},closeSideMenu:L,onMyPostsClick:function(){o(!1),u(!l),L();var e="/screens/forum?showMyPosts=".concat(!l);N(e)}})),a.a.createElement("div",{className:"forum-content"},n?a.a.createElement(ae,{onCancel:function(){return o(!1)}}):l?a.a.createElement(ce,{userId:y}):a.a.createElement(ee,{selectedTag:m})),a.a.createElement("div",{className:"right-side-section"},a.a.createElement(te,null))))};n(56);var le=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),n=t[0],o=t[1],c=function(){o(!n)};return a.a.createElement("header",null,a.a.createElement("div",{className:"header-left"},a.a.createElement(_.b,{to:"/screens/forum"},a.a.createElement("img",{src:H.a,alt:"ULyfe Logo",className:"logo"}))),a.a.createElement("nav",{className:"desktop-menu"},a.a.createElement("ul",null,a.a.createElement("li",{className:"header-link"},a.a.createElement(_.b,{to:"/screens/forum"},"Forum")),a.a.createElement("li",{className:"header-link"},a.a.createElement(_.b,{to:"/screens/events"},"Events")),a.a.createElement("li",{className:"header-link"},a.a.createElement(_.b,{to:"/screens/account"},"Account")))),a.a.createElement("div",{className:"header-right"},a.a.createElement("div",{className:"mobile-icon",onClick:c},n?a.a.createElement(S.g,null):a.a.createElement(S.a,null))),n&&a.a.createElement("div",{className:"mobile-menu"},a.a.createElement("button",{className:"close-btn",onClick:c},a.a.createElement(S.g,null)),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(_.b,{to:"/screens/forum",onClick:c},"Forum")),a.a.createElement("li",null,a.a.createElement(_.b,{to:"/screens/events",onClick:c},"Events")),a.a.createElement("li",null,a.a.createElement(_.b,{to:"/screens/account",onClick:c},"Account")))))};function ue(){ue=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),i=new _(r||[]);return a(c,"_invoke",{value:L(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function b(){}var E={};u(E,c,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,c)&&(E=j);var x=b.prototype=g.prototype=Object.create(E);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=k(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(N.prototype),u(N.prototype,i,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},O(x),u(x,l,"Generator"),u(x,c,function(){return this}),u(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var se=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),l=Object(b.a)(c,2),u=l[0],f=l[1],m=Object(r.useState)(""),d=Object(b.a)(m,2),g=d[0],y=d[1],E=Object(r.useState)(""),w=Object(b.a)(E,2),j=w[0],x=w[1],O=Object(r.useState)(!1),N=Object(b.a)(O,2),L=N[0],k=N[1],S=Object(v.n)(),C=function(){var e=Object(i.a)(ue().mark(function e(){var t;return ue().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j&&n&&u&&g){e.next=3;break}return k(!0),e.abrupt("return");case 3:return e.prev=3,t=Object(s.c)(p,"users",h.currentUser.uid),e.next=7,Object(s.m)(t,{uid:h.currentUser.uid,name:j,major:n,campus:u,graduationYear:g,datingProfileSetup:!1});case 7:console.log("Before Navigation"),S("/screens/forum"),console.log("after navigation"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Error adding user additional info: ",e.t0);case 15:case"end":return e.stop()}},e,null,[[3,12]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:R.a.container},a.a.createElement("div",{className:R.a["auth-container"]},a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},a.a.createElement("h1",{className:R.a["add-info-title"]},"Additional Info"),a.a.createElement("label",null,"Name:"),a.a.createElement("input",{type:"text",value:j,onChange:function(e){return x(e.target.value)},className:"".concat(R.a.inputBox," ").concat(L&&!j?R.a.error:""),required:!0}),a.a.createElement("label",null,"Major:"),a.a.createElement("input",{type:"text",value:n,onChange:function(e){return o(e.target.value)},className:"".concat(R.a.inputBox," ").concat(L&&!n?R.a.error:""),required:!0}),a.a.createElement("label",null,"Campus:"),a.a.createElement("input",{type:"text",value:u,onChange:function(e){return f(e.target.value)},className:"".concat(R.a.inputBox," ").concat(L&&!u?R.a.error:""),required:!0}),a.a.createElement("label",null,"Expected Graduation Year:"),a.a.createElement("input",{type:"text",value:g,onChange:function(e){return y(e.target.value)},className:"".concat(R.a.inputBox," ").concat(L&&!g?R.a.error:""),required:!0}),a.a.createElement("button",{type:"submit",onClick:C,className:R.a.login},"Submit"))))};n(137);function fe(){fe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),i=new _(r||[]);return a(c,"_invoke",{value:L(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function b(){}var E={};u(E,c,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,c)&&(E=j);var x=b.prototype=g.prototype=Object.create(E);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=k(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(N.prototype),u(N.prototype,i,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},O(x),u(x,l,"Generator"),u(x,c,function(){return this}),u(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var me=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),l=Object(b.a)(c,2),s=l[0],f=l[1],m=Object(r.useState)(""),p=Object(b.a)(m,2),d=p[0],v=p[1],g=Object(r.useState)(""),y=Object(b.a)(g,2),E=y[0],w=y[1],j=Object(r.useState)(null),x=Object(b.a)(j,2),O=x[0],N=x[1],L=Object(r.useState)(!1),k=Object(b.a)(L,2),S=k[0],C=k[1],_=Object(r.useState)(!1),P=Object(b.a)(_,2),T=P[0],G=P[1],F=function(){var e=Object(i.a)(fe().mark(function e(){var t;return fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("Before validation check"),s===d){e.next=8;break}return G(!1),N("Passwords entered do not match"),C(!1),A(),e.abrupt("return");case 8:if(!(s.length<6)){e.next=14;break}return G(!1),N("Password length must be more than 6 characters"),C(!1),A(),e.abrupt("return");case 14:if(n&&s&&d){e.next=19;break}return G(!0),N(null),console.log("Validation failed"),e.abrupt("return");case 19:return t=h.currentUser,console.log("Before reauthentication"),e.prev=21,e.next=24,Object(u.f)(h,t.email,n);case 24:return console.log("Before password update"),e.next=27,Object(u.h)(h.currentUser,s);case 27:console.log("Password change successful"),C(!0),N(null),w(""),A(),e.next=41;break;case 34:e.prev=34,e.t0=e.catch(21),console.error("Reauthentication error:",e.t0),C(!1),N("Incorrect password"),w(""),A();case 41:e.next=50;break;case 43:e.prev=43,e.t1=e.catch(0),console.error("Password change error:",e.t1),C(!1),N(e.t1.message),w(""),A();case 50:case"end":return e.stop()}},e,null,[[0,43],[21,34]])}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(i.a)(fe().mark(function e(){var t,n;return fe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=h.currentUser){e.next=5;break}return N("User not authenticated. Please log in or sign up."),e.abrupt("return");case 5:if(n=t.email){e.next=9;break}return N("No email associated with the account. Please provide an email address."),e.abrupt("return");case 9:return e.next=11,Object(u.e)(h,n);case 11:C(!0),N(null),w("Password reset link sent to ".concat(n)),A(),e.next=24;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Forgot password error:",e.t0),C(!1),N(e.t0.message),w(""),A();case 24:case"end":return e.stop()}},e,null,[[0,17]])}));return function(){return e.apply(this,arguments)}}(),A=function(){o(""),f(""),v("")};return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"password-reset-container"},a.a.createElement("h1",{className:"pass-reset-title"},"Change Password"),O&&a.a.createElement("p",{className:"error-message"},O),S&&a.a.createElement("p",{className:"success-message"},E),a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"auth-label"},"Current Password:"),a.a.createElement("input",{type:"password",value:n,onChange:function(e){return o(e.target.value)},className:"current inputBox ".concat(T&&!n?"error":"")})),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"auth-label forgot",onClick:I},"Forgot Password?")),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"auth-label"},"New Password:"),a.a.createElement("input",{type:"password",value:s,onChange:function(e){return f(e.target.value)},className:"inputBox ".concat(T&&!s?"error":"")})),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{className:"auth-label"},"Confirm New Password:"),a.a.createElement("input",{type:"password",value:d,onChange:function(e){return v(e.target.value)},className:"inputBox ".concat(T&&!d?"error":"")})),a.a.createElement("button",{className:"login",onClick:F},"Change Password"))))},he=function(e){var t=e.children,n=Object(v.n)();return Object(r.useEffect)(function(){var e=Object(u.c)(h,function(e){e||n("/")});return function(){return e()}},[n]),a.a.createElement(a.a.Fragment,null,t)},pe=(n(139),n(59)),de=n.n(pe),ve=n(60),ge=n.n(ve),ye=n(61),be=n.n(ye),Ee=n(62),we=n.n(Ee),je=function(){var e=Object(v.n)(),t=function(){e("/signup")};return a.a.createElement("div",{className:"landing-page"},a.a.createElement("header",{className:"header"},a.a.createElement("img",{src:H.a,alt:"ULyfe Logo",className:"logo"}),a.a.createElement("div",{className:"cta-buttons"},a.a.createElement("button",{className:"login-btn",onClick:function(){e("/login")}},"Login"),a.a.createElement("button",{className:"login-btn",onClick:t},"Sign Up"))),a.a.createElement("main",null,a.a.createElement("section",{className:"banner"},a.a.createElement("div",{className:"banner-content"},a.a.createElement("h2",null,"Engage with students on your campus"),a.a.createElement("p",null,"ULYFE is the top platform for meeting people on campus, sharing opinions, and finding great events to enjoy the college experience"),a.a.createElement("button",{onClick:t,className:"login-btn"},"Sign Up Today"))),a.a.createElement("section",{className:"ulife-offerings"},a.a.createElement("h2",null,"ULYFE Offerings"),a.a.createElement("p",null,"ULYFE is the platform for college students to share opinions, ask questions, meet people, and find events"),a.a.createElement("div",{className:"image-container"},a.a.createElement("div",{className:"image-item"},a.a.createElement("h2",null,"Forums"),a.a.createElement("img",{src:de.a,alt:"Forum"}),a.a.createElement("p",null,"Ask questions and get answers from students on your campus. Post anonymously freely share your thoughts about anything campus related or personal")),a.a.createElement("div",{className:"image-item"},a.a.createElement("h2",null,"Lynks"),a.a.createElement("img",{src:ge.a,alt:"Lynks"}),a.a.createElement("p",null,"Create a profile and starting lynking with people on campus with no expectations. Find friends, study buddies, romantic partners, and more on ULyfe Lynks")),a.a.createElement("div",{className:"image-item"},a.a.createElement("h2",null,"Events"),a.a.createElement("img",{src:we.a,alt:"Events"}),a.a.createElement("p",null,"The ultimate college experience is just a few clicks away! Find events and get tickets for events hosted by clubs, school admin, frats, and sororities.")))),a.a.createElement("section",{className:"mission-section"},a.a.createElement("img",{src:be.a,alt:"Mission",className:"mission-image"}),a.a.createElement("div",{className:"mission-content"},a.a.createElement("h2",null,"Our Mission"),a.a.createElement("p",null,"To bring college students together through the power of technololgy and communication."),a.a.createElement("p",{style:{margin:"25px 0"}},"Whether you're outgoing, introverted, laid-back, or adventurous, there's a place for you in our diverse and inclusive community."))),a.a.createElement("section",{className:"how-it-works"},a.a.createElement("div",{className:"how-section-content"},a.a.createElement("h2",null,"How It Works"),a.a.createElement("p",null,"Joining ULYFE is quick and easy. Follow these simple steps to get started:"),a.a.createElement("ol",null,a.a.createElement("li",null,a.a.createElement("span",{className:"bullet"},"1")," ",a.a.createElement("span",{className:"step-title"},"Sign Up:")," Create your account using your student email address."),a.a.createElement("li",null,a.a.createElement("span",{className:"bullet"},"2")," ",a.a.createElement("span",{className:"step-title"},"Verify Email:")," Check your inbox and verify your student email address."),a.a.createElement("li",null,a.a.createElement("span",{className:"bullet"},"3")," ",a.a.createElement("span",{className:"step-title"},"Complete Basic Info:")," Input some basic information to set up your profile."),a.a.createElement("li",null,a.a.createElement("span",{className:"bullet"},"4")," ",a.a.createElement("span",{className:"step-title"},"Access Forums and Events:")," Once verified, you'll gain access to forums and events to connect with your campus community."),a.a.createElement("li",null,a.a.createElement("span",{className:"bullet"},"5")," ",a.a.createElement("span",{className:"step-title"},"Enhance Your Profile:")," To access Lynks, our dating page, complete your profile by providing additional information and uploading photos.")),a.a.createElement("button",{className:"login-btn",onClick:t},"Get Started"))),a.a.createElement("section",{className:"features-section"},a.a.createElement("div",{className:"feature"},a.a.createElement(x.a,{icon:O.x}),a.a.createElement("h3",null,"Community"),a.a.createElement("p",null,"Connect with a vibrant community of students from your campus and beyond.")),a.a.createElement("div",{className:"feature"},a.a.createElement(x.a,{icon:O.h}),a.a.createElement("h3",null,"Conversations"),a.a.createElement("p",null,"Engage in meaningful discussions and exchange ideas on various topics.")),a.a.createElement("div",{className:"feature"},a.a.createElement(x.a,{icon:O.d}),a.a.createElement("h3",null,"Events"),a.a.createElement("p",null,"Stay updated on upcoming events, parties, and gatherings on and off campus.")),a.a.createElement("div",{className:"feature"},a.a.createElement(x.a,{icon:O.o}),a.a.createElement("h3",null,"Connections"),a.a.createElement("p",null,"Build new friendships, find study buddies, or even discover your soulmate.")),a.a.createElement("div",{className:"feature"},a.a.createElement(x.a,{icon:O.r}),a.a.createElement("h3",null,"Personal"),a.a.createElement("p",null,"Personalize your profile to showcase your personality and interests")),a.a.createElement("div",{className:"feature"},a.a.createElement(x.a,{icon:O.j}),a.a.createElement("h3",null,"Networking"),a.a.createElement("p",null,"Discover networking opportunities to improve your present and future experience")),a.a.createElement("div",{className:"feature"},a.a.createElement(x.a,{icon:O.p}),a.a.createElement("h3",null,"Guest List"),a.a.createElement("p",null,"RSVP to events and see who else is attending")),a.a.createElement("div",{className:"feature"},a.a.createElement(x.a,{icon:O.s}),a.a.createElement("h3",null,"Anonymity"),a.a.createElement("p",null,"Share opinions and thoughts openly without fear of judgment")))),a.a.createElement("footer",{className:"footer"},a.a.createElement("p",null,"\xa9 2024 ULyfe")))},xe=(n(141),n(43)),Oe=n.n(xe);function Ne(){Ne=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),i=new _(r||[]);return a(c,"_invoke",{value:L(e,n,i)}),c}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function g(){}function y(){}function b(){}var E={};u(E,c,function(){return this});var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==n&&r.call(j,c)&&(E=j);var x=b.prototype=g.prototype=Object.create(E);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function N(e,t){function n(a,o,c,i){var l=f(e[a],e,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==typeof s&&r.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(l.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t(function(t,a){n(e,r,t,a)})}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=m;return function(o,c){if(a===p)throw new Error("Generator is already running");if(a===d){if("throw"===o)throw c;return{value:e,done:!0}}for(r.method=o,r.arg=c;;){var i=r.delegate;if(i){var l=k(i,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(a=d,r.method="throw",r.arg=u.arg)}}}function k(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(N.prototype),u(N.prototype,i,function(){return this}),t.AsyncIterator=N,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var c=new N(s(e,n,r,a),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},O(x),u(x,l,"Generator"),u(x,c,function(){return this}),u(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return i.type="throw",i.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var l=r.call(c,"catchLoc"),u=r.call(c,"finallyLoc");if(l&&u){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var Le=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(null),l=Object(b.a)(c,2),u=l[0],m=l[1],v=Object(r.useState)({}),g=Object(b.a)(v,2),y=g[0],N=g[1],L=Object(r.useState)(!1),k=Object(b.a)(L,2),C=k[0],_=k[1],P=Object(r.useState)(null),T=Object(b.a)(P,2),G=T[0],F=T[1],I=Object(r.useState)(!1),A=Object(b.a)(I,2),U=A[0],Y=A[1];Object(r.useEffect)(function(){var e=h.onAuthStateChanged(function(){var e=Object(i.a)(Ne().mark(function e(t){var n,r,a,c,i,l,u;return Ne().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}return n=t.uid,r=Object(s.k)(Object(s.b)(p,"datingProfiles"),Object(s.o)("uid","==",n)),e.prev=3,e.next=6,Object(s.e)(r);case 6:return(a=e.sent).empty?console.log("No profile data found for the current user."):(c=a.docs[0].data(),o(c)),i=Object(s.c)(p,"users",n),e.next=11,Object(s.d)(i);case 11:(l=e.sent).exists()?(u=l.data(),m(u)):console.log("No user document found for the current user."),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.error("Error fetching profile data:",e.t0.message);case 18:e.next=21;break;case 20:console.log("No user is signed in.");case 21:case"end":return e.stop()}},e,null,[[3,15]])}));return function(t){return e.apply(this,arguments)}}());return function(){return e()}},[]);var D=function(){var e=Object(i.a)(Ne().mark(function e(){var t;return Ne().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{(t=document.createElement("input")).type="file",t.accept="image/*",t.click(),t.addEventListener("change",function(){var e=Object(i.a)(Ne().mark(function e(t){var r,a,c,i,l,u,m,v;return Ne().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.target.files[0])){e.next=28;break}return e.prev=2,a=Object(f.c)(d,"datingProfileImages/".concat(r.name)),e.next=6,Object(f.d)(a,r);case 6:return e.next=8,Object(f.a)(a);case 8:return c=e.sent,i=h.currentUser.uid,l=Object(s.k)(Object(s.b)(p,"datingProfiles"),Object(s.o)("uid","==",i)),e.next=13,Object(s.e)(l);case 13:if((u=e.sent).empty){e.next=22;break}return m=u.docs[0],v=Object(s.c)(p,"datingProfiles",m.id),e.next=19,Object(s.n)(v,{profileImages:[].concat(Object(E.a)(n.profileImages),[c])});case 19:o(function(e){return Object(j.a)({},e,{profileImages:[].concat(Object(E.a)(e.profileImages),[c])})}),e.next=23;break;case 22:console.log("No dating profile document found for the current user.");case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(2),console.error("Error uploading image:",e.t0.message);case 28:case"end":return e.stop()}},e,null,[[2,25]])}));return function(t){return e.apply(this,arguments)}}())}catch(r){console.error("Error handling image click:",r.message)}case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(Ne().mark(function e(){var t,r,a,c,i,l;return Ne().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===G){e.next=26;break}if((t=Object(E.a)(n.profileImages)).splice(G,1),!(t.length<3)){e.next=8;break}F(null),Y(!0),e.next=26;break;case 8:return e.prev=8,r=h.currentUser.uid,a=Object(s.k)(Object(s.b)(p,"datingProfiles"),Object(s.o)("uid","==",r)),e.next=13,Object(s.e)(a);case 13:if((c=e.sent).empty){e.next=19;break}return i=c.docs[0],l=Object(s.c)(p,"datingProfiles",i.id),e.next=19,Object(s.n)(l,{profileImages:t});case 19:o(function(e){return Object(j.a)({},e,{profileImages:t})}),F(null),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(8),console.error("Error updating profile data:",e.t0.message);case 26:case"end":return e.stop()}},e,null,[[8,23]])}));return function(){return e.apply(this,arguments)}}(),q=function(e){N(function(t){return Object(j.a)({},t,Object(w.a)({},e,!0))})},B=function(e,t){o(function(n){return Object(j.a)({},n,Object(w.a)({},e,t))})},R=function(e,t){m(function(n){return Object(j.a)({},n,Object(w.a)({},e,t))})},V=function(){var e=Object(i.a)(Ne().mark(function e(){var t,r,a,o,c,i;return Ne().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,t=h.currentUser.uid,r=Object(s.k)(Object(s.b)(p,"datingProfiles"),Object(s.o)("uid","==",t)),e.next=6,Object(s.e)(r);case 6:if((a=e.sent).empty){e.next=15;break}return o=a.docs[0],c=Object(s.c)(p,"datingProfiles",o.id),e.next=12,Object(s.n)(c,n);case 12:console.log("Profile data updated successfully."),e.next=16;break;case 15:console.log("No dating profile document found for the current user.");case 16:return i=Object(s.c)(p,"users",t),e.next=19,Object(s.n)(i,u);case 19:console.log("User data updated successfully."),N({}),setTimeout(function(){_(!1)},2e3),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(1),console.error("Error updating profile data:",e.t0.message),_(!1);case 28:case"end":return e.stop()}},e,null,[[1,24]])}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"my-account-page"},n&&u?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"profile-pics"},a.a.createElement("div",{className:"image-grid"},n.profileImages&&n.profileImages.map(function(e,t){return a.a.createElement("div",{key:t,className:"image-box"},a.a.createElement("img",{src:e,alt:"Profile ".concat(t+1)}),a.a.createElement("div",{className:"delete-button",onClick:function(){return F(t)}},a.a.createElement("div",{className:"x-button"},a.a.createElement(x.a,{icon:O.g,style:{color:"#ff0000"}}),a.a.createElement(x.a,{icon:O.v,style:{color:"#ffffff",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -45%)"}}))))}),function(){for(var e=[],t=n&&n.profileImages?n.profileImages.length:0,r=0;r<6-t;r++)e.push(a.a.createElement("div",{key:"empty-box-".concat(r),className:"image-box empty-box"},a.a.createElement("div",{className:"add-button",onClick:function(){return D()}},a.a.createElement(S.e,null))));return e}())),null!==G&&!U&&a.a.createElement("div",{className:"popup"},a.a.createElement("div",{className:"popup-content"},a.a.createElement("button",{onClick:function(){return F(null)},className:"close-popup"},"X"),a.a.createElement("p",{className:"popup-text"},"Are you sure you want to delete this image?"),a.a.createElement("button",{onClick:M,className:"popup-btn"},"Yes"),a.a.createElement("button",{onClick:function(){return F(null)},className:"popup-btn"},"No"))),U&&a.a.createElement("div",{className:"popup"},a.a.createElement("div",{className:"popup-content"},a.a.createElement("button",{onClick:function(){return Y(!1)},className:"close-popup"},"X"),a.a.createElement("p",{className:"popup-text"},"The profile must have at least 3 photos. Unable to delete this image."))),C?a.a.createElement("div",{className:"loading-indicator"},a.a.createElement("img",{src:Oe.a,alt:"Loading...",className:"loading-gif"})):a.a.createElement("div",{className:"profile-fields"},a.a.createElement("div",{className:"profile-field",onClick:function(){return q("name")}},a.a.createElement("span",{className:"field-box"},a.a.createElement("label",{className:"field-label"},"Name: "),y.name?a.a.createElement("input",{className:"editing-input",type:"text",value:u.name,onChange:function(e){return R("name",e.target.value)}}):a.a.createElement("div",{className:"data-pencil"},a.a.createElement("span",null,u.name),a.a.createElement("span",null,a.a.createElement(S.d,null))))),a.a.createElement("div",{className:"profile-field",onClick:function(){return q("major")}},a.a.createElement("span",{className:"field-box"},a.a.createElement("label",{className:"field-label"},"Major: "),y.major?a.a.createElement("input",{className:"editing-input",type:"text",value:u.major,onChange:function(e){return R("major",e.target.value)}}):a.a.createElement("div",{className:"data-pencil"},a.a.createElement("span",null,u.major),a.a.createElement("span",null,a.a.createElement(S.d,null))))),a.a.createElement("div",{className:"profile-field",onClick:function(){return q("graduationYear")}},a.a.createElement("span",{className:"field-box"},a.a.createElement("label",{className:"field-label"},"Graduation Year: "),y.graduationYear?a.a.createElement("input",{className:"editing-input",type:"text",value:u.graduationYear,onChange:function(e){return R("graduationYear",e.target.value)}}):a.a.createElement("div",{className:"data-pencil"},a.a.createElement("span",null,u.graduationYear),a.a.createElement("span",null,a.a.createElement(S.d,null))))),a.a.createElement("div",{className:"profile-field",onClick:function(){return q("campus")}},a.a.createElement("span",{className:"field-box"},a.a.createElement("label",{className:"field-label"},"Campus: "),y.campus?a.a.createElement("input",{className:"editing-input",type:"text",value:u.campus,onChange:function(e){return R("campus",e.target.value)}}):a.a.createElement("div",{className:"data-pencil"},a.a.createElement("span",null,u.campus),a.a.createElement("span",null,a.a.createElement(S.d,null))))),a.a.createElement("div",{className:"profile-field",onClick:function(){return q("age")}},a.a.createElement("span",{className:"field-box"},a.a.createElement("label",{className:"field-label"},"Age: "),y.age?a.a.createElement("input",{className:"editing-input",type:"text",value:n.age,onChange:function(e){return B("age",e.target.value)}}):a.a.createElement("div",{className:"data-pencil"},a.a.createElement("span",null,n.age),a.a.createElement("span",null,a.a.createElement(S.d,null))))),a.a.createElement("div",{className:"profile-field",onClick:function(){return q("bio")}},a.a.createElement("span",{className:"field-box"},a.a.createElement("label",{className:"field-label"},"Bio: "),y.bio?a.a.createElement("textarea",{className:"editing-input",value:n.bio,onChange:function(e){return B("bio",e.target.value)}}):a.a.createElement("div",{className:"data-pencil"},a.a.createElement("span",null,n.bio),a.a.createElement("span",null,a.a.createElement(S.d,null))))),a.a.createElement("div",{className:"profile-field",onClick:function(){return q("gender")}},a.a.createElement("span",{className:"field-box"},a.a.createElement("label",{className:"field-label"},"Gender: "),y.gender?a.a.createElement("input",{className:"editing-input",type:"text",value:n.gender,onChange:function(e){return B("gender",e.target.value)}}):a.a.createElement("div",{className:"data-pencil"},a.a.createElement("span",null,n.gender),a.a.createElement("span",null,a.a.createElement(S.d,null))))),a.a.createElement("div",{className:"profile-field",onClick:function(){return q("hobbies")}},a.a.createElement("span",{className:"field-box"},a.a.createElement("label",{className:"field-label"},"Hobbies: "),y.hobbies?a.a.createElement("input",{className:"editing-input",type:"text",value:n.hobbies,onChange:function(e){return B("hobbies",e.target.value)}}):a.a.createElement("div",{className:"data-pencil"},a.a.createElement("span",null,n.hobbies),a.a.createElement("span",null,a.a.createElement(S.d,null))))),a.a.createElement("div",{className:"profile-field",onClick:function(){return q("race")}},a.a.createElement("span",{className:"field-box"},a.a.createElement("label",{className:"field-label"},"Race: "),y.race?a.a.createElement("input",{className:"editing-input",type:"text",value:n.race,onChange:function(e){return B("race",e.target.value)}}):a.a.createElement("div",{className:"data-pencil"},a.a.createElement("span",null,n.race),a.a.createElement("span",null,a.a.createElement(S.d,null))))),a.a.createElement("button",{onClick:V,className:"save-btn"},"Save Changes"))):a.a.createElement("div",{className:"loading-indicator"},a.a.createElement("img",{src:Oe.a,alt:"Loading...",className:"loading-gif"})))};Object(r.createContext)(null);function ke(){var e="/screens/additional-info"!==Object(v.l)().pathname;return a.a.createElement("div",null,e&&a.a.createElement(le,null)," ",a.a.createElement(he,null,a.a.createElement(v.c,null,a.a.createElement(v.a,{index:!0,element:a.a.createElement(ie,null)}),a.a.createElement(v.a,{path:"account",element:a.a.createElement(y,null)}),a.a.createElement(v.a,{path:"forum",element:a.a.createElement(ie,null)}),a.a.createElement(v.a,{path:"events",element:a.a.createElement(q,null)}),a.a.createElement(v.a,{path:"additional-info",element:a.a.createElement(se,null)}),a.a.createElement(v.a,{path:"myaccount",element:a.a.createElement(Le,null)}),a.a.createElement(v.a,{path:"password-reset",element:a.a.createElement(me,null)}))))}var Se=function(){return a.a.createElement(_.a,null,a.a.createElement(v.c,null,a.a.createElement(v.a,{path:"/",element:a.a.createElement(je,null)}),a.a.createElement(v.a,{path:"/login",element:a.a.createElement(W,{isItLogin:!0})}),a.a.createElement(v.a,{path:"/signup",element:a.a.createElement(W,{isItLogin:!1})}),a.a.createElement(v.a,{path:"screens/*",element:a.a.createElement(ke,null)})))};c.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Se,null)))},18:function(e,t,n){e.exports={container:"Auth_container__1kb2r","auth-container":"Auth_auth-container__1Ui9E","auth-label":"Auth_auth-label__3wfWv",inputBox:"Auth_inputBox__yGy3R","auth-logo":"Auth_auth-logo__un15h",login:"Auth_login__txHrs",error:"Auth_error__1325_","login-signup-title":"Auth_login-signup-title__1ETVI","add-info-title":"Auth_add-info-title__1ELO2"}},31:function(e,t,n){e.exports=n.p+"static/media/ULyfe_final_logo.d9508e61.PNG"},43:function(e,t,n){e.exports=n.p+"static/media/loadingGif.4f19d54f.gif"},45:function(e,t,n){},51:function(e,t,n){},56:function(e,t,n){},59:function(e,t,n){e.exports=n.p+"static/media/Forum.e2846d13.png"},60:function(e,t,n){e.exports=n.p+"static/media/Lynk.3f5f92f7.png"},61:function(e,t,n){e.exports=n.p+"static/media/happygays.94a3749f.jpg"},62:function(e,t,n){e.exports=n.p+"static/media/Events.f1f962d1.png"},64:function(e,t,n){e.exports=n(143)},71:function(e,t,n){},73:function(e,t,n){},76:function(e,t,n){},80:function(e,t,n){},82:function(e,t,n){},91:function(e,t,n){},93:function(e,t,n){},96:function(e,t,n){},98:function(e,t,n){}},[[64,2,1]]]);
//# sourceMappingURL=main.c4720aaa.chunk.js.map